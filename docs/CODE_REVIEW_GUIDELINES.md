# 코드 리뷰 가이드라인 (Code Review Guidelines)

## 📋 코드 리뷰 프로세스

### 1. PR 생성 시
```markdown
## PR 제목 형식
[Phase#] feat/fix/refactor: 간단한 설명

## PR 템플릿
### 📝 변경 사항
- 주요 변경 내용 요약

### 🎯 관련 이슈
- Closes #이슈번호

### ✅ 체크리스트
- [ ] 코드 스타일 가이드 준수
- [ ] 테스트 코드 작성/업데이트
- [ ] 문서 업데이트
- [ ] TypeScript 타입 체크 통과
- [ ] Breaking Change 없음

### 📸 스크린샷 (UI 변경 시)
- 변경 전/후 스크린샷

### 🧪 테스트 방법
- 테스트 절차 설명
```

### 2. 리뷰어 체크리스트

#### 코드 품질
- [ ] **명명 규칙**: 변수, 함수, 클래스명이 명확하고 일관성 있는가?
- [ ] **코드 중복**: DRY 원칙을 따르고 있는가?
- [ ] **복잡도**: 함수가 너무 복잡하지 않은가? (순환 복잡도 < 10)
- [ ] **가독성**: 코드가 이해하기 쉬운가?

#### 아키텍처
- [ ] **설계 패턴**: 적절한 디자인 패턴을 사용했는가?
- [ ] **의존성**: 순환 의존성이 없는가?
- [ ] **모듈화**: 기능이 적절히 분리되어 있는가?
- [ ] **확장성**: 향후 확장이 용이한 구조인가?

#### 보안
- [ ] **인증/인가**: 적절한 권한 체크가 있는가?
- [ ] **입력 검증**: 모든 입력이 검증되는가?
- [ ] **민감 정보**: 로그나 응답에 민감 정보가 노출되지 않는가?
- [ ] **SQL Injection**: ORM을 통한 안전한 쿼리인가?

#### 성능
- [ ] **쿼리 최적화**: N+1 문제가 없는가?
- [ ] **캐싱**: 적절한 캐싱 전략을 사용하는가?
- [ ] **비동기 처리**: 블로킹 작업이 비동기로 처리되는가?
- [ ] **메모리 누수**: 메모리 누수 가능성이 없는가?

#### 테스트
- [ ] **테스트 커버리지**: 주요 로직이 테스트되는가?
- [ ] **엣지 케이스**: 경계값과 예외 상황을 테스트하는가?
- [ ] **테스트 독립성**: 테스트가 서로 독립적인가?
- [ ] **Mock 사용**: 외부 의존성이 적절히 Mock되는가?

#### 문서화
- [ ] **코드 주석**: 복잡한 로직에 적절한 주석이 있는가?
- [ ] **API 문서**: API 변경사항이 문서화되었는가?
- [ ] **README**: 필요시 README가 업데이트되었는가?
- [ ] **타입 정의**: TypeScript 타입이 명확히 정의되었는가?

### 3. 리뷰 후 액션

#### 필수 업데이트 문서
1. **DEVELOPMENT_STATUS.md**
   - 완료된 작업 추가
   - 진행률 업데이트
   - 알려진 이슈 업데이트

2. **CHANGELOG.md** (생성 필요 시)
   ```markdown
   ## [버전] - 날짜
   ### Added
   - 새로운 기능
   
   ### Changed
   - 변경된 기능
   
   ### Fixed
   - 버그 수정
   
   ### Deprecated
   - 지원 중단 예정
   
   ### Removed
   - 제거된 기능
   ```

3. **Phase별 문서**
   - `docs/development/phase#/기능명.md` 생성/업데이트

## 🚦 리뷰 승인 기준

### Approve ✅
- 모든 필수 체크리스트 통과
- 치명적인 버그 없음
- 성능 저하 없음
- 보안 취약점 없음

### Request Changes 🔄
- 치명적인 버그 발견
- 보안 취약점 존재
- 성능 심각한 저하
- 아키텍처 원칙 위반

### Comment 💬
- 개선 제안사항
- 코드 스타일 수정 필요
- 문서 보완 필요
- 테스트 추가 권장

## 📊 리뷰 메트릭

### 목표 지표
- **리뷰 응답 시간**: < 24시간
- **PR 크기**: < 400 lines
- **리뷰 라운드**: < 3회
- **머지까지 시간**: < 3일

### 측정 항목
- 평균 리뷰 시간
- 리뷰 당 발견된 이슈 수
- 리뷰 후 버그 발생률
- 코드 품질 개선도

## 🔄 지속적 개선

### 월간 리뷰 회고
- 리뷰 프로세스 개선점 논의
- 반복되는 이슈 패턴 분석
- 가이드라인 업데이트

### 분기별 품질 분석
- 코드 품질 트렌드 분석
- 테스트 커버리지 추이
- 기술 부채 평가

## 📝 리뷰 코멘트 예시

### 좋은 예시 ✅
```typescript
// 제안: 이 로직을 별도 함수로 분리하면 재사용성과 테스트가 용이해집니다.
// 예시:
function calculateDiscount(items: Item[], discountRate: number): number {
  return items.reduce((sum, item) => sum + item.price * discountRate, 0);
}
```

### 나쁜 예시 ❌
```
이 코드는 잘못되었습니다. 다시 작성하세요.
```

## 🏷️ 리뷰 라벨

### Priority
- `P0: Critical` - 즉시 수정 필요
- `P1: High` - 머지 전 수정 필요
- `P2: Medium` - 다음 PR에서 수정
- `P3: Low` - 개선 제안

### Type
- `bug` - 버그
- `security` - 보안
- `performance` - 성능
- `style` - 코드 스타일
- `refactor` - 리팩토링
- `test` - 테스트
- `docs` - 문서

## 🤝 리뷰 에티켓

### Do's ✅
- 구체적이고 건설적인 피드백
- 코드 예시 제공
- 긍정적인 부분도 언급
- 질문을 통한 이해 확인
- 대안 제시

### Don'ts ❌
- 개인적인 비판
- 모호한 피드백
- 과도한 니트피킹
- 컨텍스트 없는 비판
- 감정적인 표현

---

*이 가이드라인은 팀의 성장과 함께 지속적으로 개선됩니다.*